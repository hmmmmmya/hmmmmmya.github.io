<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>007_windows下搭建C++编译环境 | Hymns</title><meta name="author" content="Hymns"><meta name="copyright" content="Hymns"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="using CMake + MinGW + VSCode CMake is an open-source, cross-platform tool that uses compiler and platform independent configuration files to generate native build tool files specific to your compiler">
<meta property="og:type" content="article">
<meta property="og:title" content="007_windows下搭建C++编译环境">
<meta property="og:url" content="https://hmmmmmya.github.io/2024/06/17/007_windows%E4%B8%8B%E6%90%AD%E5%BB%BACpp%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/index.html">
<meta property="og:site_name" content="Hymns">
<meta property="og:description" content="using CMake + MinGW + VSCode CMake is an open-source, cross-platform tool that uses compiler and platform independent configuration files to generate native build tool files specific to your compiler">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hmmmmmya.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2024-06-17T01:46:24.000Z">
<meta property="article:modified_time" content="2024-10-09T01:59:49.373Z">
<meta property="article:author" content="Hymns">
<meta property="article:tag" content="c++">
<meta property="article:tag" content="vscode">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hmmmmmya.github.io/img/butterfly-icon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://hmmmmmya.github.io/2024/06/17/007_windows%E4%B8%8B%E6%90%AD%E5%BB%BACpp%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '007_windows下搭建C++编译环境',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="Hymns" type="application/atom+xml">
</head><body><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/cover1.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Hymns</span></a><a class="nav-page-title" href="/"><span class="site-name">007_windows下搭建C++编译环境</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">007_windows下搭建C++编译环境</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-06-17T01:46:24.000Z" title="发表于 2024-06-17 09:46:24">2024-06-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-09T01:59:49.373Z" title="更新于 2024-10-09 09:59:49">2024-10-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/c/">c++</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>using CMake + MinGW + VSCode</p>
<p>CMake is an open-source, cross-platform tool that uses compiler and platform independent configuration files to generate native build tool files specific to your compiler and platform.</p>
<p>The CMake Tools extension integrates Visual Studio Code and CMake to make it easy to configure, build, and debug your C++ project.</p>
<span id="more"></span>

<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><ol>
<li><p>安装 VSCode</p>
<p>配置 VSCode 终端<br><img src="https://cdn.jsdelivr.net/gh/hmmmmmya/MyResources@main/typora/20240614104906.png" alt="配置VSCode终端"></p>
</li>
<li><p>安装 VSCode 插件 C&#x2F;C++</p>
</li>
<li><p>安装 VSCode 插件 CMake 和 CMake Tools</p>
<ul>
<li><p>CMake 插件主要功能是 CMake 语法高亮、自动补全</p>
</li>
<li><p>CMake Tools 的功能主要是结合 VSCode IDE 使用 CMake 这个工具，比如生成 CMake 项目、构建、调试 CMake 项目等。不能跨平台。</p>
</li>
</ul>
</li>
<li><p>安装 CMake</p>
<p>The VS Code CMake Tools extension does its work by using CMake installed on your system. For best results, use CMake version 3.27 or greater.</p>
<p>下载地址：<a target="_blank" rel="noopener" href="https://cmake.org/download/">https://cmake.org/download/</a></p>
<p>下载 zip 版本“cmake-3.xx-win64-x64.zip”，下载完成解压到指定目录并添加 bin 所在目录到环境变量。</p>
<p>在终端输入“cmake –help”或 “cmake –version”查看是否配置成功。</p>
<p><img src="https://cdn.jsdelivr.net/gh/hmmmmmya/MyResources@main/typora/20240614105048.png" alt="查看cmake是否配置成功"></p>
</li>
<li><p>安装编译器 MinGW</p>
<ul>
<li><p>MSVC 即 Microsoft Visual C++ Compiler，即微软自己的编译器。</p>
</li>
<li><p>MinGW 则是指 Minimalist GNU for Windows 的缩写它是将 GNU 开发工具移植到 Win32 平台下的产物，即一套 Windows 上的 GNU 工具集。能够跨平台，能够在 linux、arm 等平台使用，这些平台使用的编译器都是 g++、gcc。</p>
</li>
<li><p>跨平台开发的话，用的库基本上一定是 Linux 能用的库，而 Linux 能用的库一定是在 mingw 下支持会比较好。</p>
</li>
<li><p>MinGW-w64</p>
<p>下载地址：<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/mingw-w64/files/mingw-w64/mingw-w64-release/">https://sourceforge.net/projects/mingw-w64/files/mingw-w64/mingw-w64-release/</a></p>
<p>页面往下滑，选择 MinGW-W64 Online Installer 下面的最新版本，现在是 MinGW-W64 GCC-8.1.0</p>
<p>推荐下载 离线版本“x86_64-posix-seh”</p>
<p><img src="https://cdn.jsdelivr.net/gh/hmmmmmya/MyResources@main/typora/20240614110612.png" alt="选择mingw版本"></p>
<p>下载完成解压到指定目录并添加 bin 所在目录到环境变量。</p>
<p><img src="https://cdn.jsdelivr.net/gh/hmmmmmya/MyResources@main/typora/20240614111327.png" alt="添加到环境变量"></p>
<p>将 mingw64\bin 目录下的“mingw32-make.exe”复制一份并改名为 “make.exe”，就可以在终端直接使用 “make”指令而不必使用“mingw32-make”指令。</p>
<p>在终端输入 “gcc -v”（或输入“make -v”查看版本信息）</p>
<p><img src="https://cdn.jsdelivr.net/gh/hmmmmmya/MyResources@main/typora/20240614111656.png" alt="make -v"></p>
</li>
</ul>
</li>
<li><p>VSCode 配置</p>
<p>两种方式配置 CMake Tools extension，参考 Ref_1</p>
<ul>
<li>Use CMake Presets (recommended)<ul>
<li>通过 JSON 配置，可以跨 IDE 和操作系统使用</li>
</ul>
</li>
<li>Use CMake Kits&#x2F;Variants</li>
</ul>
</li>
</ol>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ol>
<li><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/cpp/CMake-linux">CMake Tools for VSCode documentation</a></li>
<li><a target="_blank" rel="noopener" href="https://vector-of-bool.github.io/docs/vscode-cmake-tools/getting_started.html#">vscode-cmake-tools getting started</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/dcrmg/article/details/103918543">windows 下 CMake+MinGW 搭建 C&#x2F;C++编译环境</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://hmmmmmya.github.io">Hymns</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://hmmmmmya.github.io/2024/06/17/007_windows%E4%B8%8B%E6%90%AD%E5%BB%BACpp%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/">https://hmmmmmya.github.io/2024/06/17/007_windows%E4%B8%8B%E6%90%AD%E5%BB%BACpp%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://hmmmmmya.github.io" target="_blank">Hymns</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/c/">c++</a><a class="post-meta__tags" href="/tags/vscode/">vscode</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/06/17/008_vscode%E6%8F%92%E4%BB%B6%E6%8E%A8%E8%8D%90/" title="008_vscode插件推荐"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">008_vscode插件推荐</div></div><div class="info-2"><div class="info-item-1">自用 vscode 插件推荐      类别 插件名称 备注    开发语言与框架     C&#x2F;C++ C&#x2F;C++ Extension Pack 包含 C&#x2F;C++, C&#x2F;C++ Themes, CMake, CMake Tools    C&#x2F;C++ C++ 编译、调试 (需提前安装编译器, 如 MinGW)    CMake 语法高亮, 代码补全    CMake Tools CMake 工具包   Rust rust-analyzer Rust 语言支持   开发工具     路径智能提示 Path Intellisense 文件路径自动补全   文档编辑 Markdown All in One Markdown 全功能支持   版本控制 GitLens 增强的 Git 功能，查看修改历史，Git blame    SVN Subversion 版本控制支持    SVN Lens SVN blame 功能   远程开发 Remote - SSH 通过 SSH 进行远程开发   容器化 Docker Docker...</div></div></div></a><a class="pagination-related" href="/2024/06/12/006_%E4%BA%91%E8%AE%BF%E9%97%AE%E5%9B%BE%E7%89%87/" title="006_云访问图片"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">006_云访问图片</div></div><div class="info-2"><div class="info-item-1">使用 PicGo + GitHub + Typora 来搭建图床，实现云访问图片   图床简介: 如果没有图床，markdown 插入图片的保存位置是本地，例如 c 盘某个位置，发布到网上后是找不到对应图片的。 图床将图片存储在云服务器，markdown 插入图片在云服务器内的链接地址，这样任何人都可以访问到了。 一、配置 GitHub1.1 创建一个新的仓库, 用于存放图片 填写仓库名称和描述，且仓库必须是 public 的，否则存储的图片不能正常访问。 2.2 生成一个 token，用于 picGo 访问 github仓库 -&gt; settings  选择 Developer settings  选择 Personal access tokens  点击右侧的 Generate new token 把 repo 的勾打上即可。然后翻到页面最底部，点击Generate token的绿色按钮生成 token。  注意: 这个 token 生成后只会显示一次！你要把这个 token 复制一下存到其他地方以备以后要用。 二、配置 PicGo2.1 下载 PicGoGitHub...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/10/31/022_cpp%E7%BB%93%E6%9E%84%E5%8C%96%E7%BB%91%E5%AE%9A/" title="022_c++结构化绑定"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-31</div><div class="info-item-2">022_c++结构化绑定</div></div><div class="info-2"><div class="info-item-1">介绍下 c++ 的结构化绑定   结构化绑定(Structured Binding)是 C++17 引入的新特性,允许我们将结构体、数组或元组中的多个元素同时绑定到多个变量上。 以下是几个常见的使用场景:  绑定 tuple:  12std::tuple&lt;int, std::string, double&gt; tuple&#123;1, &quot;hello&quot;, 3.14&#125;;auto [id, name, value] = tuple;  // 自动解包到三个变量   绑定 pair:  1234std::map&lt;std::string, int&gt; map&#123;&#123;&quot;one&quot;, 1&#125;&#125;;for (const auto&amp; [key, value] : map) &#123;  // 遍历map时直接获取键值    std::cout &lt;&lt; key &lt;&lt; &quot;: &quot; &lt;&lt; value &lt;&lt;...</div></div></div></a><a class="pagination-related" href="/2024/10/31/023_cpp%E6%8A%98%E5%8F%A0%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="023_c++折叠表达式"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-31</div><div class="info-item-2">023_c++折叠表达式</div></div><div class="info-2"><div class="info-item-1">C++中的折叠表达式（Fold Expressions）是一种简化变参模板函数编写的语法，从 C++17 开始引入。折叠表达式可以对可变参数模板进行自动折叠，从而简化代码。   基本概念折叠表达式可以将可变参数模板中的所有参数，通过特定的运算符折叠为一个结果。常见的运算符包括加法+、乘法*、逻辑与&amp;&amp;、逻辑或||等。折叠表达式主要有四种形式：  一元左折叠：从左到右依次折叠，例如：(args + ...) 一元右折叠：从右到左依次折叠，例如：(... + args) 二元左折叠：用于指定初始值，从左到右依次折叠，例如：(init + ... + args) 二元右折叠：用于指定初始值，从右到左依次折叠，例如：(args + ... + init)  示例以下是每种折叠表达式的代码示例： 1. 一元左折叠123456789template&lt;typename... Args&gt;auto sum(Args... args) &#123;    return (args + ...);  // 将参数依次相加&#125;int main() &#123;   ...</div></div></div></a><a class="pagination-related" href="/2024/10/31/024_cpp%E5%88%9D%E5%A7%8B%E5%8C%96/" title="024_cpp初始化"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-31</div><div class="info-item-2">024_cpp初始化</div></div><div class="info-2"><div class="info-item-1">介绍下 c++ 的初始化   一. 自动初始化为 0 的情况在 C++中，初始化为 0 的情况取决于变量的类型、存储位置和初始化方式。以下是 C++中会自动初始化为 0 的几种情况： 1. 全局变量和静态变量 全局变量（包括命名空间作用域的变量）和静态变量（static）在定义时会被自动初始化为 0。  这种自动初始化包括整型初始化为 0，浮点型初始化为 0.0，指针初始化为nullptr，类对象会调用默认构造函数。 示例： 1234567int globalVar;          // 自动初始化为0static int staticVar;    // 静态变量自动初始化为0int main() &#123;    static int funcStaticVar;  // 函数内部的静态变量自动初始化为0    return 0;&#125;  2. 类中的非静态成员变量（使用值初始化） 如果对象的非静态成员变量没有显式初始化，在值初始化时这些成员变量会被自动初始化为...</div></div></div></a><a class="pagination-related" href="/2024/11/13/035-lamda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/" title="035-lamda表达式的应用场景"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-13</div><div class="info-item-2">035-lamda表达式的应用场景</div></div><div class="info-2"><div class="info-item-1">Lambda 表达式在 C++中是一个非常强大且灵活的特性，它在以下场景中会特别有用：   1. 简化代码Lambda 表达式可以用来简化代码，特别是在需要定义短小的匿名函数时。例如，在 STL 算法（如std::sort）中传递自定义比较函数时： 1234567891011121314#include &lt;algorithm&gt;#include &lt;vector&gt;#include &lt;iostream&gt;int main() &#123;    std::vector&lt;int&gt; vec = &#123;1, 5, 3, 4, 2&#125;;    std::sort(vec.begin(), vec.end(), [](int a, int b) &#123;        return a &lt; b;    &#125;);    for (int n : vec) &#123;        std::cout &lt;&lt; n &lt;&lt; &quot; &quot;;    &#125;    return...</div></div></div></a><a class="pagination-related" href="/2024/11/13/036-std-funtion/" title="036-std::funtion"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-13</div><div class="info-item-2">036-std::funtion</div></div><div class="info-2"><div class="info-item-1">std::function 是 C++11 引入的标准库组件，用于包装任意可调用的目标。它可以用来存储、传递和调用各种类型的可调用对象，如普通函数、Lambda 表达式、函数对象和成员函数等。下面是 std::function 的一些关键特点和用法：   1. 定义和用法std::function 模板类定义如下： 123#include &lt;functional&gt;std::function&lt;返回类型(参数类型...)&gt; 函数对象;  例如，定义一个接收两个 int 参数并返回 int 的函数对象： 1std::function&lt;int(int, int)&gt; func;  2. 存储和调用不同类型的可调用对象存储普通函数123456int add(int a, int b) &#123;    return a + b;&#125;std::function&lt;int(int, int)&gt; func = add;std::cout &lt;&lt; func(1, 2) &lt;&lt; std::endl; // 输出 3  存储...</div></div></div></a><a class="pagination-related" href="/2024/11/14/040-cpp%E9%80%92%E5%BD%92%E4%BA%92%E6%96%A5%E9%94%81/" title="040-c++递归互斥锁"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-14</div><div class="info-item-2">040-c++递归互斥锁</div></div><div class="info-2"><div class="info-item-1">std::recursive_mutex可以在同一个线程中嵌套使用。   std::recursive_mutex是一种递归锁，它允许同一线程多次加锁而不会导致死锁。在使用普通的std::mutex时，同一线程如果多次尝试加锁会造成死锁；而std::recursive_mutex则不会。它会跟踪当前线程的加锁次数，并在解锁时，只有当解锁次数与加锁次数相同时，锁才会真正释放。 以下是一个简单的示例，展示了如何在同一线程中嵌套使用std::recursive_mutex： 123456789101112131415161718192021222324#include &lt;iostream&gt;#include &lt;mutex&gt;#include &lt;thread&gt;std::recursive_mutex mtx;void recursiveFunction(int count) &#123;    if (count &lt;= 0) return;    mtx.lock();    std::cout &lt;&lt; &quot;Lock...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Hymns</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">环境配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ref"><span class="toc-number">2.</span> <span class="toc-text">Ref</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/14/041-cpp-learning/" title="041-c++学习资料">041-c++学习资料</a><time datetime="2024-11-14T02:12:00.000Z" title="发表于 2024-11-14 10:12:00">2024-11-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/14/040-cpp%E9%80%92%E5%BD%92%E4%BA%92%E6%96%A5%E9%94%81/" title="040-c++递归互斥锁">040-c++递归互斥锁</a><time datetime="2024-11-14T01:54:49.000Z" title="发表于 2024-11-14 09:54:49">2024-11-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/13/039-linux-mv/" title="039-linux-mv">039-linux-mv</a><time datetime="2024-11-13T09:14:08.000Z" title="发表于 2024-11-13 17:14:08">2024-11-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/13/038-%E7%BD%91%E5%85%B3/" title="038-网关">038-网关</a><time datetime="2024-11-13T06:20:46.000Z" title="发表于 2024-11-13 14:20:46">2024-11-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/13/037-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E5%88%86%E7%B1%BB/" title="037-服务器的分类">037-服务器的分类</a><time datetime="2024-11-13T03:56:05.000Z" title="发表于 2024-11-13 11:56:05">2024-11-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Hymns</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>